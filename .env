# Multi-Microservice Pattern Environment Configuration

# Database Configuration
DATABASE_URL=postgresql+asyncpg://multiservice_user:multiservice_password@timescaledb:5432/multiservice_db
POSTGRES_USER=multiservice_user
POSTGRES_PASSWORD=multiservice_password
POSTGRES_DB=multiservice_db

# Redis Configuration
REDIS_URL=redis://redis:6379

# Service URLs (for inter-service communication)
DATABASE_SERVICE_URL=http://database_service:8000
MESSAGING_SERVICE_URL=http://messaging_service:8000
SERVICE_A_URL=http://service_a:8000
SERVICE_B_URL=http://service_b:8000

# Migration Configuration
RUN_MIGRATIONS_ON_STARTUP=1
SCHEMA_EVOLUTION_ENABLED=true
SCHEMA_VALIDATION_LEVEL=basic
AUTO_ROLLBACK_ON_FAILURE=false
MONITORING_ENABLED=true

# TimescaleDB Configuration
TIMESCALE_CHUNK_INTERVAL=7 days
METRICS_RETENTION_PERIOD=365 days
ENFORCE_TIMESCALEDB=true
DISABLE_SQLITE_FALLBACK=true

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# Performance Configuration
CONNECTION_POOL_SIZE=10
CONNECTION_POOL_MAX_OVERFLOW=20
CONNECTION_POOL_TIMEOUT=30
CONNECTION_POOL_RECYCLE=3600

# Security Configuration
SECRET_KEY=your-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100

# CORS Configuration
ALLOWED_ORIGINS=*
ALLOWED_METHODS=*
ALLOWED_HEADERS=*
