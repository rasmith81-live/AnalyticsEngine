"""
Gross Margin KPI

The difference between the revenue generated by the outside sales team and the cost of goods sold.
"""

GROSS_MARGIN = {
    "code": "GROSS_MARGIN",
    "name": "Gross Margin",
    "description": "The difference between the revenue generated by the outside sales team and the cost of goods sold.",
    "formula": "(Total Sales Revenue - Cost of Goods Sold) / Total Sales Revenue * 100",
    "calculation_formula": "(Total Sales Revenue - Cost of Goods Sold) / Total Sales Revenue * 100",
    "category": "Outside Sales",
    "is_active": True,
    "kpi_definition": "The difference between the revenue generated by the outside sales team and the cost of goods sold.",
    "expected_business_insights": "Provides insights into profitability and the efficiency of production and pricing strategies.",
    "measurement_approach": "Calculates the percentage of total sales revenue that exceeds the cost of goods sold (COGS).",
    "trend_analysis": """
    * Gross margin tends to fluctuate based on changes in pricing strategies, cost of goods, and sales volume.
    * An increasing gross margin could indicate successful pricing strategies or cost control measures, while a decreasing margin may signal pricing pressure or rising costs.
    """,
    "diagnostic_questions": """
    * What factors are driving changes in our gross margin?
    * Are there specific products or customer segments that are impacting our overall margin?
    """,
    "actionable_tips": """
    * Regularly review pricing strategies and adjust based on market conditions and cost changes.
    * Analyze the cost structure to identify areas for cost reduction or efficiency improvements.
    * Provide sales teams with training on value-based selling to maintain or increase margins.
    """,
    "visualization_suggestions": """
    * Line charts showing gross margin trends over time.
    * Pareto charts to identify the most significant contributors to changes in gross margin.
    """,
    "risk_warnings": """
    * A declining gross margin may lead to reduced profitability and financial instability.
    * High gross margins without corresponding sales volume may indicate pricing strategies that are too aggressive, potentially leading to lost sales.
    """,
    "tracking_tools": """
    * Financial management software like QuickBooks or Xero for tracking and analyzing gross margin data.
    * Business intelligence tools such as Tableau or Power BI for in-depth analysis and visualization of gross margin trends.
    """,
    "integration_points": """
    * Integrate gross margin analysis with sales performance metrics to understand the relationship between sales volume and margin.
    * Link gross margin data with inventory management systems to optimize stock levels and reduce carrying costs.
    """,
    "change_impact_analysis": """
    * Changes in gross margin can impact overall profitability and cash flow, affecting investment decisions and financial stability.
    * Increasing gross margin may lead to higher customer acquisition costs or reduced customer satisfaction if not managed effectively.
    """,
    "metadata_": {"modules": ["OUTSIDE_SALES", "SALES_PERFORMANCE"], "source": "kpidepot.com", "import_date": "2025-11-07", "required_objects": ["Customer", "Revenue Forecast", "Sale", "Sales Activity", "Sales Appointment", "Sales Assessment", "Sales Call", "Sales Coaching Session", "Sales Content", "Sales Dashboard", "Sales Email", "Sales Forecast", "Sales Playbook", "Sales Process Workflow", "Sales Quota", "Sales Representative", "Sales Team", "Sales Territory", "Sales Training Program"]},
    "modules": ["OUTSIDE_SALES", "SALES_PERFORMANCE"],
    "module_code": "OUTSIDE_SALES",
}
